<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="description" content="">
    <title>Login | BalanceBites</title>
    <link rel="icon" type="image/x-icon" href="">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link rel="preconnect" href="https://kit.fontawesome.com">
    <link rel="preconnect" href="https://cdnjs.cloudflare.com">
    <link rel="preload" href="https://fonts.googleapis.com/css2?family=Poppins:wght@200;300;400;500;600;700;800&display=swap" as="style" onload="this.onload=null;this.rel='stylesheet'">
    <script src="https://kit.fontawesome.com/64d58efce2.js" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js" crossorigin="anonymous"></script>
    <link rel="preconnect" href="https://kit.fontawesome.com/64d58efce2.js">
    <link rel="stylesheet" type="text/css" href="static\css\signup_in.css" />
    <script src="https://apis.google.com/js/platform.js" async defer></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/sweetalert2@10">
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@10"></script>
  </head>
  <body>
    {% if failure_message %}
      <script>
        alert("{{ failure_message }}");
      </script>
    {% endif %}
    <div class="container">
      <div class="forms-container">
        <div class="signin-signup">
          <form action="/signin" class="sign-in-form" method="POST">
            <h2 class="title">Sign In</h2>
            <div class="input-field">
              <i class="fas fa-user"></i>
              <input type="text" placeholder="Username" name="current-username" required/>
            </div>
            <div class="input-field">
              <i class="fas fa-lock"></i>
              <input type="password" placeholder="Password" name="current-password" id="signInPassword" required/>
              <i class="fas fa-eye" id="toggleSignInPassword"></i>
            </div>
            <a href="#" class="forgot-password">Forgot Password ?</a>
            <input type="submit" value="Login" class="btn solid" id="signInButton" onclick="handleSignIn(event)" required />

            <p class="social-text">Or Sign in with social platforms</p>
            <div class="social-media">
              <a href="#" class="social-icon" aria-label="Sign Up with FaceBook.">
                <i class="fab fa-facebook-f" alt="facebook"></i>
              </a>
              <a href="#" class="social-icon" aria-label="Sign Up with Twitter.">
                <i class="fab fa-twitter" alt="twitter"></i>
              </a>
              <a href="#" class="social-icon" aria-label="Sign Up with Google.">
                <i class="fab fa-google"alt="google"></i>
              </a>
              <a href="#" class="social-icon" aria-label="Sign Up with Linked-in.">
                <i class="fab fa-linkedin-in" alt="linked-in"></i>
              </a>
            </div>
          </form>

          <form action="/signup" class="sign-up-form" method="POST">
            <h2 class="title">Sign Up</h2>
            <div class="input-field">
              <i class="fas fa-user"></i>
              <input type="text" placeholder="Username" name="n_username" id="new-username" required />
            </div>
            <div class="input-field">
              <i class="fas fa-envelope"></i>
              <input type="email" placeholder="Email" name="new-email" id="new-email" required/>
              <i class="fas fa-paper-plane" id="send-otp-btn"></i>
            </div>
            <div class="input-field" id="otp-input-field">
              <i class="fas fa-shield-alt"></i>
              <input type="text" placeholder="Enter OTP" name="otp" id="user_otp" required pattern="^\d{6}$" title="Please enter a 6-digit number"/>
                <i class="fas fa-check-circle" id="submit-otp-btn"></i>
            </div>
            <div class="input-field">
              <i class="fas fa-lock"></i>
              <input type="password" placeholder="Password" name="new-password" id="signUpPassword" pattern="(?=.*\d)(?=.*[a-z])(?=.*[A-Z]).{8,}" title="Must contain at least one number and one uppercase and lowercase letter, and at least 8 or more characters" required/>
              <i class="fas fa-eye" id="toggleSignUpPassword"></i>
            </div>
            <div id="message">
              <p id="letter" class="invalid">A <b>lowercase</b> letter</p>
              <p id="capital" class="invalid">A <b>capital (uppercase)</b> letter</p>
              <p id="number" class="invalid">A <b>number</b></p>
              <p id="length" class="invalid">Minimum <b>8 characters</b></p>
            </div>
            <div class="input-field">
              <i class="fas fa-lock"></i>
              <input type="password" placeholder="Confirm Password" name="confirm-password" id="confirmPassword" onpaste="event.preventDefault();"required/>
              <i class="fas fa-eye" id="toggleConfirmPassword"></i>
            </div>
            <span id="passwordError" style="color: red; display: none;">Passwords do not match</span>
            <div class="error-message" id="error-message" style="display:none; color:red;"></div>
            <input type="submit" value="Sign Up" class="btn solid" id="signUpButton" required/>

            <p class="social-text">Or Sign up with social platforms</p>
            <div class="social-media">
              <a href="#" class="social-icon" aria-label="Sign Up with FaceBook.">
                <i class="fab fa-facebook-f" alt="facebook"></i>
              </a>
              <a href="#" class="social-icon" aria-label="Sign Up with Twitter.">
                <i class="fab fa-twitter" alt="twitter"></i>
              </a>
              <a href="#" class="social-icon" aria-label="Sign Up with Google.">
                <i class="fab fa-google" data-onsuccess="onSignIn" alt="google"></i>
              </a>
              <a href="#" class="social-icon" aria-label="Sign Up with Linked-in.">
                <i class="fab fa-linkedin-in" alt="linked-in"></i>
              </a>
            </div>
          </form>
        </div>
      </div>
      <div class="panels-container">
        <div class="panel left-panel">
          <div class="content">
            <h3>Find Your Perfect Diet !</h3>
            <p>Join Us and Get the Diet Recommendations at your fingertips...</p>
            <button class="btn transparent" id="sign-up-btn" onclick="toggleSignUpMode()">Sign Up</button>
          </div>
          <img src="static\images\food-pyramid-nutrition.png" style="max-height:450px;" class="image" loading="lazy" alt="Sample Image" />
        </div>
        <div class="panel right-panel">
          <div class="content">
            <h3>Welcome Back !</h3>
            <p> Already a Part of Balanced Bites ?</p>
            <button class="btn transparent" id="sign-in-btn" onclick="toggleSignInMode()">Sign In</button>
          </div>
          <img src="static\images\healthy-vs-unhealthy-food-flat-illustration.png" style="max-height:460px;" class="image" loading="lazy" alt="Sample Image" />
        </div>
      </div>
    </div>
    <script src="static\js\signup_in.js"></script>
  </body>
</html>
